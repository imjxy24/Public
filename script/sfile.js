async function getFile(e){try{return await (await fetch("https://hi-techgfx.com/api.php/get-file",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({fid:e})})).json()}catch(t){throw console.error("Error fetching file:",t),t}}function convertBytes(e){if(0==e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB","TB"][t]}let searchParams=new URLSearchParams(window.location.search),fileId=searchParams.get("f");if(fileId){sessionStorage.setItem("fileId",fileId),history.replaceState(null,"","/");getFile(fileId).then(e=>{if(!0===e.ok){let t=e.fname,n=convertBytes(e.fsize),i=fileId;document.getElementById("fileName").innerText=t,document.getElementById("fileSize").innerText=n,document.getElementById("fileInfo").style.display="block",i&&(document.getElementById("tgdown").href=`https://t.me/Sani_Files_Receiver_Bot?start=${i}`)}else throw Error("Something went wrong while fetching file data")}).catch(e=>{console.error(e),alert("Something Went Wrong!"),location.reload()}),document.getElementById("genlink").addEventListener("click",()=>{let e=8;document.getElementById("genlink").innerHTML='<i class="fa fa-cog fa-spin fa-1x fa-fw"></i> Generating Link, Please Wait';let t=setInterval(()=>{-1==--e&&(clearInterval(t),document.getElementById("genlink").style.display="none",document.getElementById("tgdown").style.display="block")},1500)},{once:!0})}
